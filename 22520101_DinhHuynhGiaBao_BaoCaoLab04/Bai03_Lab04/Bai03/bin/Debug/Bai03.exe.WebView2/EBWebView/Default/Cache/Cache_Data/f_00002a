(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5642,6095],{49562:function(e,t,r){Promise.resolve().then(r.bind(r,7863))},7863:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Layout}});var n=r(57437),a=r(26621),o=r(13621),s=r(61832),i=r(1898),u=r(86095),l=r(59381),c=r(54855),d=r(39933),SectionLeftHeader_SectionLeftHeader=()=>{let e=(0,l.a)();return(0,n.jsx)(c.K,{display:{base:"none",md:"flex"},direction:"row",alignItems:"center",justifyContent:"start",h:"full",w:"full",children:(0,n.jsxs)(d.X,{fontSize:["14px","18px","22px","24px","36px"],fontStyle:"normal",fontWeight:"600",size:"md",mt:{base:"7",sm:"4",md:"7"},noOfLines:3,children:["Welcome to Pathfinder,\xa0",e.user.fname||"earthling"," \uD83D\uDC4B"]})})},v=r(49917),g=r(22982),f=r(83380),h=r(99809),p=r(54878),m=r(14293),w=r(48418),x=r(74627),b=r(5861),DashBoardLayout=e=>{let{children:t}=e;return(0,n.jsx)(a.k,{direction:"column",height:"100%",overflowY:"auto",children:(0,n.jsx)(o.xu,{flex:"1",overflowY:"auto",children:(0,n.jsxs)(s.r,{templateColumns:{base:"repeat(1, 1fr)",menu:"repeat(12, 1fr)"},gap:4,width:{base:"99%","2xl":"full"},maxW:{base:"full",md:"1072px"},mx:"auto",height:"100%",children:[(0,n.jsx)(i.P,{colSpan:12,maxW:"1072px",w:"full",mt:2,children:(0,n.jsx)(o.xu,{maxW:{base:"full",md:"1072px"},mx:"auto",children:(0,n.jsxs)(a.k,{justify:{base:"flex-end",md:"space-evenly"},mt:{base:"15px",md:"0px"},align:"center",w:"full",children:[(0,n.jsx)(SectionLeftHeader_SectionLeftHeader,{}),(0,n.jsxs)(b.ZP,{children:[(0,n.jsx)(p.Z,{}),(0,n.jsx)(m.Z,{})]}),(0,n.jsx)(x.ZP,{children:(0,n.jsx)(h.Z,{})}),(0,n.jsxs)(w.ZP,{children:[(0,n.jsx)(v.Z,{}),(0,n.jsx)(g.Z,{})]}),(0,n.jsx)(f.Z,{})]})})}),(0,n.jsx)(i.P,{colSpan:12,mt:2,mx:"auto",maxW:"1072px",w:"full",children:t}),(0,n.jsx)(i.P,{alignSelf:"end",colSpan:12,children:(0,n.jsx)(o.xu,{mx:"auto",children:(0,n.jsx)(u.Z,{})})})]})})})},S=r(4608),k=r(14466),y=r(32197),I=r(93838),E=r(64527),P=r(74112),j=r(80705);function Layout(e){let{children:t}=e;return(0,n.jsx)(E.ZP,{children:(0,n.jsx)(j.ZP,{children:(0,n.jsx)(k.ZP,{children:(0,n.jsx)(S.ZP,{children:(0,n.jsx)(I.ZP,{children:(0,n.jsx)(y.Z,{children:(0,n.jsx)(P.ZP,{children:(0,n.jsx)(DashBoardLayout,{children:t})})})})})})})})}},54871:function(e,t,r){"use strict";r.d(t,{Z:function(){return KaiTokenDepletedText}});var n=r(57437),a=r(82044);let KaiTokenDepletedText=e=>{let{prependText:t}=e;return(0,n.jsxs)(n.Fragment,{children:[t||"You currently don't have enough tokens",". Please"," ",(0,n.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:(0,a.Sq)(),style:{textDecoration:"underline"},children:"upgrade"})," ","to get more tokens."]})}},86095:function(e,t,r){"use strict";r.d(t,{Z:function(){return x}});var n=r(57437),a=r(59381),o=r(10128),s=r(23145),i=r(2265),u=r(24033);let insertAdScript=()=>{if(window&&null===window.document.getElementById("snigel_ad_script")){let e=window.document.createElement("script");e.id="snigel_ad_script",e.type="text/javascript",e.src="https://cdn.snigelweb.com/adconsent/adconsent.js",window.document.getElementsByTagName("head")[0].appendChild(e)}};var l=r(83838),c=r(82044),d=r(33890),v=r(63087),g=r(13621),f=r(61332),h=r(33029),p=r.n(h),m=r(72102),SnigelAd_SnigelAd=e=>{let{adPosition:t="horizontal",className:r,useDarkMode:a=!1,type:s="spaces_01",subtype:h="0",innerWidth:w="auto",innerHeight:x="100%",resizeVersion:b=1}=e,S=(0,u.usePathname)(),{setSnigelAdVisibleHeight:k}=(0,m.S)(),[y]=(0,o.a)("(min-width: ".concat(f.n_,")")),I=(0,v.S)({base:"160px",xl:"300px"},{ssr:!1}),E=(0,i.useRef)(null);(0,i.useEffect)(()=>{let e=E.current;if(!e||["/jobs","/talents"].some(e=>S.startsWith(e)))return k(0);let t=new IntersectionObserver(e=>{let[{intersectionRect:{height:t}}]=e;return k(t)},{threshold:[...Array(101)].map((e,t)=>t/100)});return t.observe(e),()=>t.disconnect()},[S,k]);let P=(0,i.useMemo)(()=>"horizontal"===t||"adhesive"===t?"adngin-pathfinder_adhesive-0":"left"===t?"adngin-pathfinder_sidebar01-0":"adngin-pathfinder_sidebar02-0",[t,h,s]),j=(0,i.useMemo)(()=>"left"===t?"pathfinder_sidebar01":"right"===t?"pathfinder_sidebar02":"pathfinder_adhesive",[t]),T=(0,i.useMemo)(()=>"horizontal"===t||"adhesive"===t?w:I,[I,w,t]),A=(0,i.useMemo)(()=>"horizontal"===t||"adhesive"===t?x:"630px",[x,t]);return(0,i.useEffect)(()=>{insertAdScript(),l.PW.logDebug("SnigelAd -> component mounted hook -> inserAdScript ran")},[]),(0,n.jsx)(g.xu,{overflow:"horizontal"===t||"adhesive"===t?"hidden":void 0,background:"rgba(40, 42, 53, 0.08)",className:"".concat("horizontal"===t||"adhesive"===t?p().horizontal+" ":"").concat(2===b?p().smaller+" ":"").concat("adhesive"===t?p().adhesiveBottom+" ":"").concat(null!=r?r:""),role:"complementary",paddingX:"horizontal"===t||"adhesive"===t||y?"10px":"0px",ref:E,children:(0,n.jsxs)(g.xu,{id:P,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"15px",width:T,height:A,minHeight:"138px",children:[(0,n.jsx)("iframe",{"data-ad-unit":j,"data-placement":"adngin-".concat(j,"-0"),"data-src":"https://cdn.snigelweb.com/adengine/spaces.w3schools.com/loader.js",src:"/adnginFrame.html",style:{display:"none"},onLoad:e=>{l.PW.logDebug("SnigelAd -> loadedIframe -> event",e)},title:"Advertisement"}),(0,n.jsx)(g.xu,{position:"relative",top:"horizontal"===t||"adhesive"===t?"-9px":"20px",fontStyle:"normal",fontWeight:600,fontSize:"15px",lineHeight:"20px",children:(0,n.jsx)(d.r,{"data-google-interstitial":"false",rel:"noopener noreferrer",href:(0,c.Sq)(),color:a?"gray.300":"#282a35",_dark:{color:"gray.300"},tabIndex:0,"aria-label":"Upgrade to hide ads",children:"Upgrade to hide ads"})})]})})};let w=(0,s.chakra)(e=>{let{adPosition:t="horizontal",resizeVersion:r=1,innerWidth:s,useDarkMode:i,innerHeight:u,type:l,subtype:c,className:d}=e,[v]=(0,o.a)("(min-width: ".concat(f.LY,")"),{fallback:!1}),g=(0,a.a)();return g.isLoggedIn&&"free"===g.user.plan&&("horizontal"===t||"adhesive"===t||v)?(0,n.jsx)(SnigelAd_SnigelAd,{innerHeight:null!=u?u:"auto",adPosition:t,useDarkMode:i,innerWidth:s,type:l,subtype:c,resizeVersion:r,className:null!=d?d:""}):null});var x=w},61332:function(e,t,r){"use strict";r.d(t,{LY:function(){return n},n_:function(){return a},zu:function(){return o}});let n="1400px",a="1441px",o="1800px"},93838:function(e,t,r){"use strict";r.d(t,{mJ:function(){return useInterviews}});var n=r(57437),a=r(2265),o=r(85029),s=r(55568),i=r(24033),u=r(51872),l=r(92164),c=r(54871);let d=(0,a.createContext)(void 0),useInterviews=()=>{let e=(0,a.useContext)(d);if(!e)throw Error("useInterviews must be used within a InterviewProvider");return e};t.ZP=e=>{let{children:t}=e,[r,v]=(0,a.useState)([]),[g,f]=(0,a.useState)({interviews:[],nextToken:void 0}),h=(0,i.useRouter)(),[p,m]=(0,a.useState)(!0),[w,x]=(0,a.useState)(!1),[b,S]=(0,a.useState)(!1),[k,y]=(0,a.useState)(),[I,E]=(0,a.useState)(""),[P,j]=(0,a.useState)(""),[T,A]=(0,a.useState)(void 0),[R,_]=(0,a.useState)(!1),[C,W]=(0,a.useState)(""),[N,D]=(0,a.useState)(),O=0;(null==N?void 0:N.history)&&-1===(O=null==N?void 0:N.history.findIndex(e=>!e.a))&&(O=null==N?void 0:N.history.length);let[L,U]=(0,a.useState)(O);(0,a.useEffect)(()=>{U(O)},[O]);let Z=(0,a.useRef)(null),[q,K]=(0,a.useState)(""),[M,z]=(0,a.useState)("");(0,a.useEffect)(()=>{let getUserInterviewsAndSystemScenarios=async()=>{m(!0);try{let e=await Promise.all([(0,s.qE)(),(0,s.O5)()]);f(e[0]),v(e[1].scenarios)}catch(e){console.error("Error fetching:",e)}finally{m(!1)}};getUserInterviewsAndSystemScenarios()},[]);let handleEndInterview=async function(){var e,t,r,a,o;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,u.Z)(),d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;S(!0);try{let t;let r=await (0,s.Fi)(null!==(e=null==N?void 0:N.interviewId)&&void 0!==e?e:"",i);if(!(null==r?void 0:r.queueId)||(null==r?void 0:r.status)&&(null==r?void 0:r.status)!=="RUNNING"){t&&clearTimeout(t),D(r);return}d<5&&(null==r?void 0:r.queueId)&&(null==r?void 0:r.status)==="RUNNING"&&(t=setTimeout(()=>{handleEndInterview(null==r?void 0:r.queueId,d+1)},0===d?2e4:1===d?1e4:5e3)),d>=5&&K("Something went wrong. Please try again.")}catch(e){e instanceof l.d7&&"string"==typeof(null==e?void 0:null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.message)&&((null==e?void 0:null===(o=e.response)||void 0===o?void 0:null===(a=o.data)||void 0===a?void 0:a.message)==="The user's kAI tokens have been depleted"?z((0,n.jsx)(c.Z,{})):K("Something went wrong. Please try again."))}finally{S(!1)}},handleDeleteInterview=async e=>{var t;m(!0),await (0,s.aX)(null!==(t=null!=e?e:null==N?void 0:N.interviewId)&&void 0!==t?t:""),D(void 0),f(t=>(t.interviews.splice(t.interviews.findIndex(t=>t.interviewId===e),1),{interviews:t.interviews,nextToken:t.nextToken})),m(!1)},H=(0,a.useCallback)(async()=>{try{m(!0);let e=await (0,s.qE)();f(e),m(!1)}catch(e){K(e),m(!1)}},[]),handleLoadMoreInterviews=async e=>{try{m(!0);let t=await (0,s.qE)(e);f(e=>({interviews:[...e.interviews,...t.interviews],nextToken:t.nextToken})),m(!1)}catch(e){K(e),m(!1)}},Y=(0,a.useCallback)(async e=>{let{title:t,difficulty:r,jobDescription:a,interviewerPersona:i,skills:u}=e;try{m(!0);let e=await (0,s.o6)({title:t,scenarioId:T,skills:u,interviewerPersona:i,jobDescription:a,difficulty:r});j(""),E(""),D(e),y(o.y9.ONGOING),h.replace("/interview?interviewId=".concat(e.interviewId)),m(!1)}catch(e){var l,d,v,g;e&&"string"==typeof(null==e?void 0:null===(d=e.response)||void 0===d?void 0:null===(l=d.data)||void 0===l?void 0:l.message)&&((null==e?void 0:null===(g=e.response)||void 0===g?void 0:null===(v=g.data)||void 0===v?void 0:v.message)==="The user's kAI tokens have been depleted"?z((0,n.jsx)(c.Z,{prependText:"You currently don't have enough tokens to start the interview practice"})):K("Something went wrong")),m(!1)}},[T]);function handleAddHistoryItem(e,t){if(!N)return;let r={...N};r.history[t]=e[0],e[1]&&(r.history[t+1]=e[1]),D({...r})}let G=(0,a.useCallback)(async(e,t)=>{if(!N)throw Error("No interview to respond");try{x(!0);let r=await (0,s.jg)(N.interviewId,{userAnswer:e,qIndex:t});r&&handleAddHistoryItem(r,L),U(e=>e+1),W(""),setTimeout(()=>{Z.current&&Z.current.focus()},0)}catch(e){var r,a,o,i;e&&"string"==typeof(null==e?void 0:null===(a=e.response)||void 0===a?void 0:null===(r=a.data)||void 0===r?void 0:r.message)&&((null==e?void 0:null===(i=e.response)||void 0===i?void 0:null===(o=i.data)||void 0===o?void 0:o.message)==="The user's kAI tokens have been depleted"?z((0,n.jsx)(c.Z,{})):K("Something went wrong"))}finally{x(!1)}},[L,handleAddHistoryItem,N]);return(0,n.jsx)(d.Provider,{value:{interviewsResponse:g,scenarios:r,isLoading:p,interviewStep:k,initialJobDescription:I,scenarioId:T,interview:N,currentQuestionIndex:L,userAnswerInputRef:Z,userAnswer:C,error:q,info:M,isResponseLoading:w,isResultLoading:b,isNewChallengeRequested:R,initialTitle:P,setInitialTitle:j,setNewChallengeRequested:_,handleFetchUserInterviews:H,handleDeleteInterview,handleLoadMoreInterviews,handleEndInterview,setError:K,setInfo:z,setInterview:D,setUserAnswer:W,handleStart:Y,handleRespond:G,setInitialJobDescription:E,setScenarioId:A,setInterviewStep:y,setIsLoading:m},children:t})}},72102:function(e,t,r){"use strict";r.d(t,{S:function(){return useKAI},Z:function(){return KAIProvider}});var n=r(57437),a=r(47713),o=r(2265),s=r(51872),i=r(59381),u=r(34643),l=r(15499),c=r(83838),d=r(85029),v=r(54116),g=r(68582);let f="kAI Token Usage",h="kAI finishReason",p="kAI_tokenBalance",extractKaiStreamMetadata=(e,t)=>{let r;let n=RegExp("\\n\\n(".concat(t.join("|"),"):(.*?)\\n"),"g"),a={},o=t.reduce((t,r)=>{let n=e.indexOf("\n\n"+r+":");return -1===n?t:t<n+1?t:n},e.length);-1===o&&(o=e.length);let s=e.slice(0,o),i=e.slice(o);for(;null!==(r=n.exec(i));){let[e,t,n]=r;a[t]=n.trim()}return{...a,beforeFirstMarker:s}},getWebSocketURL=()=>u.zg[(0,l.d)()],newMessage=()=>{let e={id:(0,s.Z)(),question:{text:void 0},response:{feedback:"",status:"loading",cost:void 0,finishReason:void 0}};return e},m={data:[],error:{...u.rj},state:d.e4.CLOSED,wallet:0,prices:{status:v.Y.NOT_YET_REQUESTED,value:{}},isLoading:!1,snigelAdVisibleHeight:0,setSnigelAdVisibleHeight:()=>void 0,connectToWebSocket:()=>void 0,askQuestion:()=>void 0,abort:()=>void 0,clearChat:()=>void 0,getHistory:()=>[],chat:()=>Promise.resolve(""),fetchTokenBalance:()=>Promise.resolve()},w=(0,o.createContext)(m);function KAIProvider(e){var t;let{children:r}=e,l=(0,i.a)(),[m,x]=(0,o.useState)([]),b=(0,o.useRef)([]),[S,k]=(0,o.useState)(0),[y,I]=(0,o.useState)({...u.rj}),[E,P]=(0,o.useState)(3),[j,T]=(0,o.useState)(!1),[A,R]=(0,o.useState)(!1),[_,C]=(0,o.useState)(0),[W,N]=(0,o.useState)({status:v.Y.NOT_YET_REQUESTED,value:{}}),[D,O]=(0,o.useState)(!0),L=(0,o.useRef)(null),U=(0,o.useRef)({}),Z=(0,o.useRef)(!1),q=(0,o.useRef)(),K=(0,o.useRef)(!1),M=(0,o.useRef)({content:[],currentIndex:0,done:!1,feedback:"",timeoutId:void 0,expectedStreamLength:null}),z=(0,o.useCallback)(()=>{c.PW.logDebug("KAIProvider -> updateData -> [refData.current",b.current),x([...b.current])},[]),H=(0,o.useCallback)((e,t)=>{c.PW.logDebug("KAIProvider -> setNewError -> [errorMessage",e);let r={...y};if(r.hasError=!0,r.message=e,r.callback=t,b.current.length>0){let e=b.current[b.current.length-1];e.response.status="error",e.response.finishReason=v.l.STOP,e.response.status="error",e.response.finishReason=v.l.STOP}else{let e=newMessage();b.current.push(e)}z(),I(r)},[y,z]),Y=(0,o.useCallback)(()=>{c.PW.logDebug("KAIProvider -> resetError");let e={...y};e.hasError=!1,e.message=void 0,e.callback=void 0,b.current.length>0&&"error"===b.current[b.current.length-1].response.status&&(b.current[b.current.length-1].response.status="loading",z()),I(e)},[y,z]),G=(0,o.useCallback)(()=>{M.current.timeoutId&&(clearTimeout(M.current.timeoutId),M.current.timeoutId=void 0)},[]),F=(0,o.useCallback)(()=>{L.current&&(c.PW.logDebug("KAIProvider -> sendAbort"),L.current.send(JSON.stringify({queueId:q.current,requestedToAbort:!0})))},[]),B=(0,o.useCallback)((e,t)=>{let r=void 0!==t&&"number"==typeof t;if(b.current.length){let n=b.current[b.current.length-1];n.response.feedback=e,n.response.status=r?"ready":"loading",n.response.cost=t,n.response.finishReason=r?v.l.STOP:void 0,c.PW.logDebug("KAIProvider -> updateMessageContent -> [refData.current, cost]",b.current,t),z()}},[z]),V=(0,o.useCallback)(()=>{let e=(0,s.Z)();q.current=e},[]),Q=(0,o.useCallback)(()=>{b.current.length>1&&(b.current.length=1,q.current=void 0,z())},[z]),X=(0,o.useCallback)(e=>{c.PW.logDebug("KAIProvider -> askQuestion ->  [question]",e);let t=newMessage();t.question.text=e,M.current={content:[],currentIndex:0,done:!1,feedback:"",timeoutId:void 0,expectedStreamLength:null},U.current={},q.current=t.id,b.current.push(t),z(),T(!0)},[z]),J=(0,o.useCallback)(()=>{let e=b.current.pop();e&&X(e.question.text)},[X]),$=(0,o.useCallback)(()=>{G(),M.current.timeoutId=setTimeout(()=>{M.current.timeoutId=void 0,H("The connection timed out. Please try again.",J),L.current&&L.current.close()},7e3)},[G,H,J]),ee=(0,o.useCallback)(()=>{R(!0)},[]),et=(0,o.useCallback)(e=>{C(e)},[]),er=(0,o.useCallback)(()=>{let e=[];if(b.current.length>0){let t=b.current.slice(Math.max(b.current.length-5,0));t.forEach(t=>{let r={prompt:t.question.text,response:t.response.feedback};e.push(r)})}return e},[]),en=(0,o.useRef)(0),ea=(0,o.useCallback)(async()=>{try{var e,t;let r=await (0,g.rm)(),n=parseFloat((null===(t=r.data)||void 0===t?void 0:null===(e=t.balance)||void 0===e?void 0:e.tokens)||"0");return C(n),Promise.resolve()}catch(t){let e={...u.rj};return e.hasError=!0,e.message=t.message,I(e),Promise.reject(t.message)}},[]),eo=(0,o.useCallback)(async()=>{if(!K.current){K.current=!0,en.current+=1,O(!0),Y();let r=1===b.current.length?b.current[b.current.length-1]:newMessage();r.response.feedback="Hello, I am kAI. How can I assist you today?",r.response.finishReason=v.l.STOP,r.response.cost=0,r.response.status="ready";let n={value:{},status:v.Y.LOADING};N(n);try{var e,t;let[n,a]=await Promise.all([(0,g.rm)(),(0,g.Fc)()]),o=parseFloat((null===(t=n.data)||void 0===t?void 0:null===(e=t.balance)||void 0===e?void 0:e.tokens)||"0"),s={value:a.data.prices,status:v.Y.DONE};b.current=[r],z(),C(o),N(s),O(!1)}catch(n){en.current<3&&(ei.current=!1);let e=newMessage();e.response.status="error",b.current=[e],z();let t={value:{},status:v.Y.ERROR};N(t);let r={...u.rj};r.hasError=!0,r.message=n.message,r.callback=eo,I(r),O(!1)}finally{K.current=!1}}},[Y,z]),es=(0,o.useCallback)(async e=>{let t=await (0,g.W6)(e);return t.response||""},[]);(0,o.useEffect)(()=>{if(A&&l.isLoggedIn&&E!==d.e4.OPEN){let e,t;c.PW.logDebug("KAIProvider -> connect WS hook -> [state]",E),R(!1),Y();let r={...u.rj};L.current&&L.current.close();let n=(0,a.getCookie)("accessToken"),o=!1,s=0,setUpWebSocket=()=>{c.PW.logDebug("KAIProvider -> connectToWebSocket ->  setUpWebSocket");let a=getWebSocketURL();(s+=1)<=5&&(L.current=new WebSocket("".concat(a,"?accessToken=").concat(n)),L.current.onopen=()=>{c.PW.logDebug("KAIProvider -> connectToWebSocket ->  setUpWebSocket -> webSocket open"),P(d.e4.OPEN),b.current.length>0&&"error"===b.current[b.current.length-1].response.status&&(b.current[b.current.length-1].response.status="ready",z()),L.current&&Z.current&&(e&&(clearTimeout(e),e=void 0),e=setTimeout(()=>{Z.current=!1,F(),J()},500))},L.current.onclose=()=>{c.PW.logDebug("KAIProvider -> connectToWebSocket ->  setUpWebSocket -> webSocket close -> [hasError, tries]",o,s),G(),o?(o=!1,5===s?(H(r.message,ee),L.current=null):(t&&(clearTimeout(t),t=void 0),t=setTimeout(()=>setUpWebSocket(),1e3))):L.current=null},L.current.onerror=e=>{c.PW.logDebug("KAIProvider -> connectToWebSocket ->  setUpWebSocket -> webSocket error -> [wsError]",e),r.message="An unexpected error occured!",G(),o=!0},L.current.onmessage=e=>{var t;G();let{chunk:r,seqId:n,queueId:a,length:o,err:s}=JSON.parse(e.data);if(a!==q.current)return;let i=null!==(t=q.current&&U.current[q.current])&&void 0!==t&&t;if(s&&"Error"===s){V();return}if(o&&(M.current.expectedStreamLength=o),n>-1){M.current.content[n]=r;let e=M.current.content[M.current.currentIndex],t=M.current.content.length;for(;(e||""===e)&&M.current.currentIndex<t;)M.current.currentIndex+=1,e=M.current.content[M.current.currentIndex];let a=extractKaiStreamMetadata(M.current.content.join(""),[f,h,p]);i||(M.current.feedback=a.beforeFirstMarker),M.current.done=!!M.current.done||null!=M.current.expectedStreamLength&&M.current.currentIndex===M.current.expectedStreamLength&&(null==a?void 0:a[p])!=null&&(null==a?void 0:a[h])!=null&&(null==a?void 0:a[f])!=null,M.current.done?(B(M.current.feedback,Number(null==a?void 0:a[f])),et(Number(null==a?void 0:a[p]))):i||(B(M.current.feedback),$())}})};setUpWebSocket()}},[G,ee,A,V,Y,F,H,$,E,J,z,B,et,l.isLoggedIn]),(0,o.useEffect)(()=>{if(j){var e,t;if(T(!1),c.PW.logDebug("KAIProvider -> submitMessage hook -> [wsRef.current.readyState === wsRef.current.OPEN]",(null===(e=L.current)||void 0===e?void 0:e.readyState)===(null===(t=L.current)||void 0===t?void 0:t.OPEN)),L.current&&L.current.readyState===L.current.OPEN){let e=er(),t={prompt:b.current[b.current.length-1].question.text,queueId:q.current,history:e};c.PW.logDebug("KAIProvider -> submitMessage hook -> wsRef.current.send",L.current),L.current.send(JSON.stringify(t)),$()}else Z.current||E===d.e4.CONNECTING||(Z.current=!0,R(!0))}},[er,$,E,j]);let ei=(0,o.useRef)(!1);(0,o.useEffect)(()=>{l.isPageReadyToLoad&&!ei.current&&(ei.current=!0,eo())},[eo,l.isPageReadyToLoad]),(0,o.useEffect)(()=>{let e=d.e4.CLOSED;L.current&&(e=L.current.readyState),c.PW.logDebug("KAIProvider -> websocket state hook -> state",d.e4[e]),P(e)},[null===(t=L.current)||void 0===t?void 0:t.readyState]),(0,o.useEffect)(()=>()=>{L.current&&L.current.close()},[]);let eu=(0,o.useMemo)(()=>({data:m,wallet:_,prices:W,error:{hasError:y.hasError,message:y.message,callback:y.callback},isLoading:D,snigelAdVisibleHeight:S,setSnigelAdVisibleHeight:k,abort:F,clearChat:Q,state:E,chat:es,resetError:Y,connectToWebSocket:ee,askQuestion:X,getHistory:er,fetchTokenBalance:ea}),[m,_,W,y.hasError,y.message,y.callback,D,S,k,F,Q,E,es,Y,ee,X,er,ea]);return(0,n.jsx)(w.Provider,{value:eu,children:r})}let useKAI=()=>(0,o.useContext)(w)},54116:function(e,t,r){"use strict";var n,a,o,s;r.d(t,{Y:function(){return a},l:function(){return n}}),(o=n||(n={})).STOP="stop",o.LENGTH="length",o.FUNCTION_CALL="function_call",(s=a||(a={})).NOT_YET_REQUESTED="NOT_YET_REQUESTED",s.LOADING="LOADING",s.DONE="DONE",s.ERROR="ERROR"},55568:function(e,t,r){"use strict";r.d(t,{Fi:function(){return postInterviewEnd},O5:function(){return getSystemScenarios},aX:function(){return deleteInterview},jg:function(){return postInterviewRespond},o6:function(){return postCreateInterview},qE:function(){return getUserInterviews},yn:function(){return getUserInterview}});var n=r(82044),a=r(7463);let getUserInterviews=async e=>{let t="".concat((0,n.qW)(),"/interview-api/interviews");e&&t.concat("?nextToken=".concat(e));let r=await (0,a.U2)(t);return r.data},getUserInterview=async e=>{let t="".concat((0,n.qW)(),"/interview-api/interviews/").concat(e),r=await (0,a.U2)(t);return r.data},getSystemScenarios=async()=>{let e="".concat((0,n.qW)(),"/interview-api/system-scenarios"),t=await (0,a.U2)(e);return t.data},postCreateInterview=async e=>{let t="".concat((0,n.qW)(),"/interview-api/interviews"),r=await (0,a.v_)(t,e);return r.data},postInterviewRespond=async(e,t)=>{let r="".concat((0,n.qW)(),"/interview-api/interviews/").concat(e,"/respond"),o=await (0,a.v_)(r,t);return o.data},postInterviewEnd=async(e,t)=>{let r="".concat((0,n.qW)(),"/interview-api/interviews/").concat(e,"/end"),o=await (0,a.v_)(r,{queueId:t});return o.data},deleteInterview=async e=>{let t="".concat((0,n.qW)(),"/interview-api/interviews/").concat(e),r=await (0,a.IV)(t);return r}},33029:function(e){e.exports={horizontal:"SnigelAd_horizontal__VuCEb",smaller:"SnigelAd_smaller__zGqyU"}},51872:function(e,t,r){"use strict";let n;r.d(t,{Z:function(){return esm_browser_v4}});let a="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var o={randomUUID:a};let s=new Uint8Array(16),i=[];for(let e=0;e<256;++e)i.push((e+256).toString(16).slice(1));var esm_browser_v4=function(e,t,r){if(o.randomUUID&&!t&&!e)return o.randomUUID();e=e||{};let a=e.random||(e.rng||function(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(s)})();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=a[e];return t}return function(e,t=0){return i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]}(a)}},39933:function(e,t,r){"use strict";r.d(t,{X:function(){return l}});var n=r(58250),a=r(89839),o=r(50446),s=r(23145),i=r(16465),u=r(57437),l=(0,n.forwardRef)(function(e,t){let r=(0,a.useStyleConfig)("Heading",e),{className:n,...l}=(0,o.Lr)(e);return(0,u.jsx)(s.chakra.h2,{ref:t,className:(0,i.cx)("chakra-heading",e.className),...l,__css:r})});l.displayName="Heading"},61832:function(e,t,r){"use strict";r.d(t,{r:function(){return s}});var n=r(58250),a=r(23145),o=r(57437),s=(0,n.forwardRef)(function(e,t){let{templateAreas:r,gap:n,rowGap:s,columnGap:i,column:u,row:l,autoFlow:c,autoRows:d,templateRows:v,autoColumns:g,templateColumns:f,...h}=e;return(0,o.jsx)(a.chakra.div,{ref:t,__css:{display:"grid",gridTemplateAreas:r,gridGap:n,gridRowGap:s,gridColumnGap:i,gridAutoColumns:g,gridColumn:u,gridRow:l,gridAutoFlow:c,gridAutoRows:d,gridTemplateRows:v,gridTemplateColumns:f},...h})});s.displayName="Grid"},1898:function(e,t,r){"use strict";r.d(t,{P:function(){return u}});var n=r(58250),a=r(23145),o=r(89565),s=r(71369),i=r(57437);function spanFn(e){return(0,s.XQ)(e,e=>"auto"===e?"auto":`span ${e}/span ${e}`)}var u=(0,n.forwardRef)(function(e,t){let{area:r,colSpan:n,colStart:s,colEnd:u,rowEnd:l,rowSpan:c,rowStart:d,...v}=e,g=(0,o.o)({gridArea:r,gridColumn:spanFn(n),gridRow:spanFn(c),gridColumnStart:s,gridColumnEnd:u,gridRowStart:d,gridRowEnd:l});return(0,i.jsx)(a.chakra.div,{ref:t,__css:g,...v})});u.displayName="GridItem"},33890:function(e,t,r){"use strict";r.d(t,{r:function(){return l}});var n=r(58250),a=r(89839),o=r(50446),s=r(23145),i=r(61396),u=r(57437),cx=(...e)=>e.filter(Boolean).join(" "),l=(0,n.forwardRef)(function(e,t){let r=(0,a.useStyleConfig)("Link",e),{className:n,isExternal:l,href:c,children:d,...v}=(0,o.Lr)(e);return(0,u.jsx)(s.chakra.a,{target:l?"_blank":void 0,ref:t,href:c,...v,className:cx("chakra-link",n),__css:r,as:i,children:d})})},92164:function(e,t,r){"use strict";r.d(t,{d7:function(){return o}});var n=r(92173);let{Axios:a,AxiosError:o,CanceledError:s,isCancel:i,CancelToken:u,VERSION:l,all:c,Cancel:d,isAxiosError:v,spread:g,toFormData:f,AxiosHeaders:h,HttpStatusCode:p,formToJSON:m,getAdapter:w,mergeConfig:x}=n.default}},function(e){e.O(0,[8447,2420,1465,1866,6753,9839,3109,5881,4092,9296,5994,3623,2393,570,9402,1396,9586,2796,8861,4447,1890,9381,7461,4466,7198,2045,2971,2472,1744],function(){return e(e.s=49562)}),_N_E=e.O()}]);